"use strict";(self.webpackChunknazake=self.webpackChunknazake||[]).push([[2538],{1236:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"gameplay-interaction/setup","title":"Setup","description":"Downloading and Locating the Gameplay Interaction Plugin","source":"@site/docs/gameplay-interaction/setup.md","sourceDirName":"gameplay-interaction","slug":"/gameplay-interaction/setup","permalink":"/imnazake/docs/gameplay-interaction/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/gameplay-interaction/setup.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Roadmap","permalink":"/imnazake/docs/gameplay-interaction/roadmap"},"next":{"title":"Creating New Interactive Entities","permalink":"/imnazake/docs/gameplay-interaction/creating-new-interactive-entities"}}');var r=t(4848),o=t(8453);const s={sidebar_position:3},l="Setup",a={},c=[{value:"Downloading and Locating the Gameplay Interaction Plugin",id:"downloading-and-locating-the-gameplay-interaction-plugin",level:3},{value:"Step 1: Download the Plugin",id:"step-1-download-the-plugin",level:2},{value:"Step 2: Locate the Plugin",id:"step-2-locate-the-plugin",level:2},{value:"Step 3: Copy the Plugin to Your Project",id:"step-3-copy-the-plugin-to-your-project",level:2},{value:"Step 4: Enable the Plugin in the Editor",id:"step-4-enable-the-plugin-in-the-editor",level:2},{value:"Step 5: Open the Project in Your IDE",id:"step-5-open-the-project-in-your-ide",level:2},{value:"Step 6: Integrating with Your Project",id:"step-6-integrating-with-your-project",level:2},{value:"Step 7: Interactable Actor Example",id:"step-7-interactable-actor-example",level:2},{value:"Step 8: Setting up collision settings in engine",id:"step-8-setting-up-collision-settings-in-engine",level:2},{value:"Step 9: Setting up a custom ability system component and binding inputs for gameplay abilities",id:"step-9-setting-up-a-custom-ability-system-component-and-binding-inputs-for-gameplay-abilities",level:2},{value:"Step 10: Setting up interaction and interactive entities for testing",id:"step-10-setting-up-interaction-and-interactive-entities-for-testing",level:2}];function d(e){const n={admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"setup",children:"Setup"})}),"\n",(0,r.jsx)(n.h3,{id:"downloading-and-locating-the-gameplay-interaction-plugin",children:"Downloading and Locating the Gameplay Interaction Plugin"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-1-download-the-plugin",children:"Step 1: Download the Plugin"}),"\n",(0,r.jsxs)(n.p,{children:["Download the ",(0,r.jsx)(n.strong,{children:"Gameplay Interaction"})," plugin from the ",(0,r.jsx)(n.strong,{children:"Epic Games Launcher"})," for the version of Unreal Engine you are using (5.1 and above)."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-2-locate-the-plugin",children:"Step 2: Locate the Plugin"}),"\n",(0,r.jsxs)(n.p,{children:["After downloading, you can find the plugin in the following directory:",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.code,{children:"{EngineDirectory}/Plugins/Marketplace/GameplayInteraction"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Setup",src:t(7814).A+"",width:"974",height:"270"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-3-copy-the-plugin-to-your-project",children:"Step 3: Copy the Plugin to Your Project"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Close your Unreal project and any open IDEs."}),"\n",(0,r.jsxs)(n.li,{children:["Copy the ",(0,r.jsx)(n.strong,{children:"GameplayInteraction"})," plugin folder from the directory above and paste it inside your project's ",(0,r.jsx)(n.strong,{children:"Plugins"})," folder."]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["If the ",(0,r.jsx)(n.strong,{children:"Plugins"})," folder doesn\u2019t exist in your project directory, create it manually."]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Setup",src:t(9021).A+"",width:"922",height:"757"}),"\r\n",(0,r.jsx)(n.img,{alt:"Setup",src:t(7892).A+"",width:"814",height:"458"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Right-click your ",(0,r.jsx)(n.code,{children:".uproject"})," file and select ",(0,r.jsx)(n.code,{children:"Generate Visual Studio project files"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-4-enable-the-plugin-in-the-editor",children:"Step 4: Enable the Plugin in the Editor"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Open your project in ",(0,r.jsx)(n.strong,{children:"Unreal Editor"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Edit > Plugins > Gameplay category"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Enable the ",(0,r.jsx)(n.strong,{children:"Gameplay Interaction"})," plugin."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Setup",src:t(7803).A+"",width:"1648",height:"354"})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"Ensure the following dependencies are also enabled:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Gameplay Abilities"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Enhanced Input"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Common UI"})}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-5-open-the-project-in-your-ide",children:"Step 5: Open the Project in Your IDE"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["If you\u2019re working on a ",(0,r.jsx)(n.strong,{children:"Blueprint-only"})," project, create an empty C++ class to convert it into a C++ project."]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Open your project's ",(0,r.jsx)(n.code,{children:".Build.cs"})," file (",(0,r.jsx)(n.code,{children:"Source/YourProject/YourProject.Build.cs"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Add the following modules to your dependencies:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'PublicDependencyModuleNames.AddRange(new string[]\r\n{\r\n    "Core",\r\n    "CoreUObject",\r\n    "Engine",\r\n    "InputCore",\r\n\r\n    "GameplayAbilities",\r\n    "GameplayTags",\r\n    "EnhancedInput",\r\n    "CommonUI",\r\n    "GameplayInteraction"\r\n});\r\n\r\nPrivateDependencyModuleNames.AddRange(new string[]\r\n{\r\n    "UMG",\r\n    "Slate",\r\n    "SlateCore"\r\n});\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Save the file."}),"\n",(0,r.jsx)(n.li,{children:"Regenerate Visual Studio project files again."}),"\n",(0,r.jsx)(n.li,{children:"Reopen the project in your IDE."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-6-integrating-with-your-project",children:"Step 6: Integrating with Your Project"}),"\n",(0,r.jsxs)(n.p,{children:["This step assumes you have a ",(0,r.jsx)(n.code,{children:"Character"}),", ",(0,r.jsx)(n.code,{children:"PlayerController"}),", and ",(0,r.jsx)(n.code,{children:"PlayerState"})," class already set up."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PlayerState Setup"})}),"\n",(0,r.jsxs)(n.p,{children:["Create or modify your ",(0,r.jsx)(n.code,{children:"PlayerState"})," class to implement ",(0,r.jsx)(n.code,{children:"IAbilitySystemInterface"})," and hold an ",(0,r.jsx)(n.code,{children:"AbilitySystemComponent"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"UCLASS()\r\nclass MYPROJECT_API AMyPlayerState : public APlayerState, public IAbilitySystemInterface\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    AMyPlayerState();\r\n\r\n    virtual UAbilitySystemComponent* GetAbilitySystemComponent() const override;\r\n\r\nprotected:\r\n    UPROPERTY(VisibleAnywhere, BlueprintReadOnly)\r\n    TObjectPtr<UAbilitySystemComponent> AbilitySystemComponent;\r\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PlayerController Setup"})}),"\n",(0,r.jsxs)(n.p,{children:["Now, integrate the ",(0,r.jsx)(n.code,{children:"UGameplayInteractionComponent"}),", and optionally other GAS-related systems."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"UGameplayInteractionComponent"})," is now a controller component which should be only added to controllers such as APlayerController class."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'UCLASS()\r\nclass MYPROJECT_API AMyPlayerController : public APlayerController, public IAbilitySystemInterface, public IGameplayInteractionInterface\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n\r\n    AMyPlayerController(const FObjectInitializer& ObjectInitializer);\r\n\r\n    virtual UAbilitySystemComponent* GetAbilitySystemComponent() const override;\r\n\r\n    UFUNCTION(BlueprintPure, Category = "Interaction")\r\n    virtual UGameplayInteractionComponent* GetInteractionComponent() override;\r\n\r\n    virtual void OnPossess(APawn* InPawn) override;\r\n    virtual void OnRep_PlayerState() override;\r\n\r\nprotected:\r\n\r\n    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Interaction")\r\n    TObjectPtr<UGameplayInteractionComponent> InteractionComponent;\r\n\r\n};\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'AMyPlayerController::AMyPlayerController(const FObjectInitializer& ObjectInitializer)\r\n    : Super(ObjectInitializer)\r\n{\r\n    InteractionComponent = CreateDefaultSubobject<UGameplayInteractionComponent>(TEXT("InteractionComponent"));\r\n    InteractionComponent->SetIsReplicated(true);\r\n}\r\n\r\nUAbilitySystemComponent* AMyPlayerController::GetAbilitySystemComponent() const\r\n{\r\n    if (const AMyPlayerState* PS = GetPlayerState<AMyPlayerState>())\r\n    {\r\n        return PS->GetAbilitySystemComponent();\r\n    }\r\n\r\n    return nullptr;\r\n}\r\n\r\nUGameplayInteractionComponent* AMyPlayerController::GetInteractionComponent() const\r\n{\r\n    return InteractionComponent;\r\n}\r\n\r\nvoid AMyPlayerController::OnPossess(APawn* InPawn)\r\n{\r\n    Super::OnPossess(InPawn);\r\n\r\n    if (AMyPlayerState* PS = GetPlayerState<AMyPlayerState>())\r\n    {\r\n        InteractionComponent->RegisterAbilitySystemComponent(PS->GetAbilitySystemComponent());\r\n    }\r\n}\r\n\r\nvoid AMyPlayerController::OnRep_PlayerState()\r\n{\r\n    Super::OnRep_PlayerState();\r\n\r\n    if (AMyPlayerState* PS = GetPlayerState<AMyPlayerState>())\r\n    {\r\n        InteractionComponent->RegisterWithAbilitySystem(PS->GetAbilitySystemComponent());\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-7-interactable-actor-example",children:"Step 7: Interactable Actor Example"}),"\n",(0,r.jsx)(n.p,{children:"To make an actor interactable, implement the appropriate interface and component setup."}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["You can either make your actor inherit from ",(0,r.jsx)(n.code,{children:"AInteractiveEntity"})," or create/use your own custom actor class that should implement the following interfaces:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"IGameplayInteractiveEntityInterface"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"IOutlineDrawingEntityInterface"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["you can check the ",(0,r.jsx)(n.code,{children:"AInteractiveEntity"})," class to see how to implement them in your own actor class."]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"UCLASS(Blueprintable, BlueprintType)\r\nclass YOURPROJECT_API AMyInteractableActor : public AActor, public IOutlineDrawingEntityInterface, public IGameplayInteractiveEntityInterface\r\n{\r\n    GENERATED_BODY()\r\n\r\n    // @see AInteractiveEntity actor class in the plugin source code for example implementation\r\n};\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-8-setting-up-collision-settings-in-engine",children:"Step 8: Setting up collision settings in engine"}),"\n",(0,r.jsx)(n.p,{children:"After compiling the project and launching the unreal editor from IDE or manually."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["When you open the unreal engine editor, go to ",(0,r.jsx)(n.code,{children:"Project Settings > Collision"})," and make sure you add the collision presets in the pictures below."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Setup",src:t(7298).A+"",width:"1541",height:"500"}),"\r\n",(0,r.jsx)(n.img,{alt:"Setup",src:t(233).A+"",width:"1363",height:"480"}),"\r\n",(0,r.jsx)(n.img,{alt:"Setup",src:t(3984).A+"",width:"1539",height:"558"}),"\r\n",(0,r.jsx)(n.img,{alt:"Setup",src:t(343).A+"",width:"1170",height:"604"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Now for the outline feature to work when looking at interactive entities you will need to add a ",(0,r.jsx)(n.code,{children:"PostProcessVolume"})," to your level, make it infinite extent (unbound)\r\nand add a post process material then select ",(0,r.jsx)(n.code,{children:"MI_Outline_White"})," material from the ",(0,r.jsx)(n.code,{children:"GameplayInteraction"})," plugin"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["If you dont see the plugin content or you cannot select plugin related content, make sure to click on the settings button in your ",(0,r.jsx)(n.code,{children:"ContentBrowser"})," the settings button\r\nis top-right side of the screen, then make sure ",(0,r.jsx)(n.code,{children:"Show Plugin Content"})," is checked or enabled to be able to see plugin content in your project."]})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Setup",src:t(846).A+"",width:"1404",height:"819"}),"\r\n",(0,r.jsx)(n.img,{alt:"Setup",src:t(228).A+"",width:"1179",height:"367"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-9-setting-up-a-custom-ability-system-component-and-binding-inputs-for-gameplay-abilities",children:"Step 9: Setting up a custom ability system component and binding inputs for gameplay abilities"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-10-setting-up-interaction-and-interactive-entities-for-testing",children:"Step 10: Setting up interaction and interactive entities for testing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["First you will need to add ",(0,r.jsx)(n.code,{children:"W_Interaction_Indicator"})," widget to your main HUD widget which you can find the in plugins content ",(0,r.jsx)(n.code,{children:"UI"})," folder (the widget is usually placed in the center with an offset)."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Make sure this ",(0,r.jsx)(n.code,{children:"W_Interaction_Indicator"})," widget is initially invisible. It should become visible when there is an interactive entity in the player view."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["You will need to give ",(0,r.jsx)(n.code,{children:"GA_Interact"})," and ",(0,r.jsx)(n.code,{children:"GA_ShowInteractionOptions"})," abilities to your ability system on begin play or when the game start (depends on your project) to be able to scan or perform interactions, check the demo project for info on how to set it up properly with GAS."]})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["You can simply call ",(0,r.jsx)(n.code,{children:"GiveAbilityAndActivateOnce"})," function for ",(0,r.jsx)(n.code,{children:"GA_Interact"})," in your character class or player state depends on where you have the ability system.\r\nYou should also call ",(0,r.jsx)(n.code,{children:"GiveAbility"})," function for ",(0,r.jsx)(n.code,{children:"GA_ShowInteractionOptions"})," in your character class or player state depends on where you have the ability system."]}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"im-still-working-on-this-page",children:"IM STILL WORKING ON THIS PAGE"})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},7814:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-01-0112a8a033260f6ebeb085d5b0d7bd98.png"},9021:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-02-87d5db6167df6fb963a1e4adb0446ddc.png"},7892:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-03-8bb77cc18cf59c4ef62d3d6c23401e6e.png"},7803:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-04-bf97fa57de6b4d5a5dc842a6964b22c6.png"},7298:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-05-afb5afcabcae8e1d9f6a02f30db55877.png"},233:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-06-566562503fd59970893d6d1bde329110.png"},3984:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-07-f26d455809f596e2cd4eb39fe68d6ed8.png"},343:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-08-7538ca797cfb36a85d8e52132428d878.png"},846:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-09-1139ac9173f3a0f07b0eac1ff9c2fa0e.png"},228:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/gip-setup-10-96bc03bf7b21be8919da01cc4a512f1c.png"},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);